<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>The ZipArchive Library: CZipStorage Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff" leftmargin="32" marginwidth="32" topmargin="32" marginheight="32">
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>CZipStorage Class Reference</h1><!-- doxytag: class="CZipStorage" -->Represents the storage layer for an archive.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>&gt;</code>
<p>
<a href="classCZipStorage-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd">ZipSegmentationMode</a> { <br>
&nbsp;&nbsp;<a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd451a4d7bc94a04bcce91c00158afee08">noSegments</a>, 
<a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fda2b4b8de7a18d21dd68fa2b2e51d613e">spannedArchive</a>, 
<a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd5696016758e2bfa325be7fd5f3a4d1bb">splitArchive</a>, 
<a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd772a9751e99d8c583a743a38a74f58d4">suggestedAuto</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd11f0b447309de468a6575f3606a62f50">suggestedSplit</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type of the segmentation of the archive.  <a href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#d8639c5b60df4aa39822e3075e3abe33">Open</a> (CZipAbstractFile &amp;af, int iMode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens a new or existing archive in memory.  <a href="#d8639c5b60df4aa39822e3075e3abe33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#96d94fed095fe728346f7b71f548951a">Open</a> (LPCTSTR szPathName, int iMode, ZIP_U32_U64 uVolumeSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens or creates an archive.  <a href="#96d94fed095fe728346f7b71f548951a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#82700d19bed231ff7fe778ba16a9cc0c">FinalizeSegm</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes a segmented archive in creation and reopens it as an existing segmented archive (no modifications allowed).  <a href="#82700d19bed231ff7fe778ba16a9cc0c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#a7ef658d2fbfb65b479febb2b18006c8">UpdateSegmMode</a> (ZIP_U16_U32 uLastDisk)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called only by <a class="el" href="classCZipCentralDir.html#8bd6ae684caf7bf0ba4c46237bb249be">CZipCentralDir::Read</a> when opening an existing archive.  <a href="#a7ef658d2fbfb65b479febb2b18006c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ddf8a71fd12d1ebce4850fcf01735421">AssureFree</a> (ZIP_U32_U64 uNeeded)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ensures than in a segmented archive, there is enough free space on the current volume.  <a href="#ddf8a71fd12d1ebce4850fcf01735421"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#6bb68ca299f8eab88a80a839947e4d37">Write</a> (const void *pBuf, DWORD iSize, bool bAtOnce)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes a chunk of data to the archive.  <a href="#6bb68ca299f8eab88a80a839947e4d37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#dda9491331d1eedd853db254be4ba879">GetOccupiedSpace</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the total size currently occupied by the archive.  <a href="#dda9491331d1eedd853db254be4ba879"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#909fbcb7bdda20adadc9672fbdc84e3c">IsClosed</a> (bool bArchive) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The same as the <a class="el" href="classCZipArchive.html#60166588e0126c68899860e00676a51f">CZipArchive::IsClosed</a> method.  <a href="#909fbcb7bdda20adadc9672fbdc84e3c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">DWORD&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#cb5e852600c22fb2e0eae12de94b5a9e">Read</a> (void *pBuf, DWORD iSize, bool bAtOnce)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads a chunk of data from the archive.  <a href="#cb5e852600c22fb2e0eae12de94b5a9e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#95081d1003f150d1073668220269dc04">GetPosition</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the position in the file, taking into account the number of bytes in the write buffer and the number of bytes before the archive.  <a href="#95081d1003f150d1073668220269dc04"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#1230b2132fff67e636139c204735910f">Flush</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flushes the data from the read buffer to the disk.  <a href="#1230b2132fff67e636139c204735910f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#d2a36be3850da16375becd58dabb7b04">FlushFile</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forces any data remaining in the file buffer to be written to the disk.  <a href="#d2a36be3850da16375becd58dabb7b04"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#68ac20b2c923c9fba0c6546f6ba93bdc">NextDisk</a> (ZIP_U32_U64 uNeeded, LPCTSTR lpszFileName=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes disks during writing to a segmented archive.  <a href="#68ac20b2c923c9fba0c6546f6ba93bdc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U16_U32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#7103218f1e71e47d80235b96f5d46d91">GetCurrentDisk</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a zero-based number of the current disk.  <a href="#7103218f1e71e47d80235b96f5d46d91"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ea74915b8fa78a8cc8ff14f6894fe131">ChangeDisk</a> (ZIP_U16_U32 uNumber)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the disk during extract operations.  <a href="#ea74915b8fa78a8cc8ff14f6894fe131"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#487495e8e77ade5959e8269aabe9baf9">IsSegmented</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Detects the segmentation mode.  <a href="#487495e8e77ade5959e8269aabe9baf9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#20a7b21eb1cfe871488d5789ffe0842f">IsReadOnly</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The same as the <a class="el" href="classCZipArchive.html#c50bc9678b14ae075d2c252f0b38bd0d">CZipArchive::IsReadOnly</a> method.  <a href="#20a7b21eb1cfe871488d5789ffe0842f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ULONGLONG&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#63cd90755d100a820cb522feed32253a">Seek</a> (ULONGLONG lOff, bool fromBeginning=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs the seeking operation on the <a class="el" href="classCZipStorage.html#540073f4fc25c13a92c22093c025d06c">m_pFile</a>.  <a href="#63cd90755d100a820cb522feed32253a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#11fa02b9689ecc44c73562f84acc9241">VolumeLeft</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the number of free bytes on the current volume.  <a href="#11fa02b9689ecc44c73562f84acc9241"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#e3ab9842a921d4606932480c954b3961">Close</a> (bool bAfterException)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the storage.  <a href="#e3ab9842a921d4606932480c954b3961"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipAbstractFile *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#540073f4fc25c13a92c22093c025d06c">m_pFile</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Represents the physical storage of the current archive segment.  <a href="#540073f4fc25c13a92c22093c025d06c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#cffb8d83566f87a66c641e911d5169e0">m_gszExtHeaderSignat</a> []</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The signature of the extended header.  <a href="#cffb8d83566f87a66c641e911d5169e0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_FILE_USIZE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ac9fd61bf2a06c9ceea19843e9a66dbe">LocateSignature</a> (char *szSignature, ZIP_U32_U64 uMaxDepth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reverse-finds the location of the given signature starting from the current position in file.  <a href="#ac9fd61bf2a06c9ceea19843e9a66dbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#60bb4b6f84a3387d8156e5d6fcb37f12">EmptyWriteBuffer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flushes without writing.  <a href="#60bb4b6f84a3387d8156e5d6fcb37f12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#dbea82a4ba5af694d12d16cd7d115e0c">OpenFile</a> (LPCTSTR lpszName, UINT uFlags, bool bThrow=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens a physical file.  <a href="#dbea82a4ba5af694d12d16cd7d115e0c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#942df70d489076dae788b781962a386d">RenameLastFileInSplitArchive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Renames the last segment file in a split archive when finalizing the whole archive.  <a href="#942df70d489076dae788b781962a386d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#b5fa7d6238a96643b0a52368555bfb74">WriteInternalBuffer</a> (const char *pBuf, DWORD uSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes data to the internal buffer.  <a href="#b5fa7d6238a96643b0a52368555bfb74"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#cd878083106a1aeb4cb5a2104b9688ca">GetFreeVolumeSpace</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the free space size on the current removable disk.  <a href="#cd878083106a1aeb4cb5a2104b9688ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#5224c348f97b3e57353f911ec17bafdb">CallCallback</a> (ZIP_U32_U64 uNeeded, int iCode, CZipString szTemp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notifies the callback object.  <a href="#5224c348f97b3e57353f911ec17bafdb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#c62be8317ae69f715a29232f00b3d5f5">GetSplitVolumeName</a> (bool bLast, LPCTSTR lpszZipName=NULL) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs the name of a segment in a split archive.  <a href="#c62be8317ae69f715a29232f00b3d5f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#25a67fb25c890532ea6c62c5e8afd04b">ChangeSplitRead</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the disk when processing a split archive.  <a href="#25a67fb25c890532ea6c62c5e8afd04b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#9d839c6e8d050fc495ddf294531a5b3b">ChangeSpannedRead</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the disk when processing a spanned archive.  <a href="#9d839c6e8d050fc495ddf294531a5b3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">DWORD&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ef4f358d7c08abd9a4355113bd17e160">GetFreeInBuffer</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the free space left in the write buffer.  <a href="#ef4f358d7c08abd9a4355113bd17e160"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#bc7c543f5b88ab52aaac32954ae1db7c">m_uSplitData</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The value it holds, depends on the current mode:<ul>
<li>An opened existing split archive - stores the number of the last disk ( the one with "zip" extension). </li></ul>
 <a href="#bc7c543f5b88ab52aaac32954ae1db7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CZipString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#be645bd32d4e8cdc1934cca9b0c3b6e9">m_szSplitExtension</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The extension of the last segment.  <a href="#be645bd32d4e8cdc1934cca9b0c3b6e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">DWORD&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#014a1857498a49e1331e33fbd6b865a4">m_uBytesInWriteBuffer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of bytes available in the write buffer.  <a href="#014a1857498a49e1331e33fbd6b865a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#e5162bda62f370e27d118a34f4689761">m_uCurrentVolSize</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The value it holds depends on the segmentation mode:<ul>
<li>A split archive : the total size of the current volume. </li></ul>
 <a href="#e5162bda62f370e27d118a34f4689761"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCZipAutoBuffer.html">CZipAutoBuffer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#97e3351700ffd1bc1ee27ed26bd2ea07">m_pWriteBuffer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The write buffer caching data.  <a href="#97e3351700ffd1bc1ee27ed26bd2ea07"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ec47f204d1213744a424a143eee5d053">m_uBytesWritten</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the number of bytes that have been written physically to the current segment.  <a href="#ec47f204d1213744a424a143eee5d053"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#f173dc4ca739884125508fb92431d989">m_bNewSegm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>true</code>, if the current archive is a new segmented archive; <code>false</code> otherwise.  <a href="#f173dc4ca739884125508fb92431d989"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U16_U32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#bb11759f88b4dd2e2f86463f01b42445">m_uCurrentDisk</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current disk in a segmented archive.  <a href="#bb11759f88b4dd2e2f86463f01b42445"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#73d1975f142f5bc2b29ca9e45e359cac">m_bInMemory</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>true</code> when the archive is created in memory; <em>false</em> otherwise.  <a href="#73d1975f142f5bc2b29ca9e45e359cac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#6678b0456d463ec297205b32f24ee828">m_bReadOnly</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>true</code> if OpenMode::zipOpenReadOnly was specified when opening the archive.  <a href="#6678b0456d463ec297205b32f24ee828"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ZIP_U32_U64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#14932109b9dde57b530e86646a974582">m_uBytesBeforeZip</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of bytes before the actual zip archive in a file.  <a href="#14932109b9dde57b530e86646a974582"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#8a8fb88cbd9a6d1b842e35036a64e4c7">m_iWriteBufferSize</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The size of the write buffer.  <a href="#8a8fb88cbd9a6d1b842e35036a64e4c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#b1e4aa7e5548a3db26a447a818c5936d">m_iLocateBufferSize</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The size of the buffer used in searching for the central directory.  <a href="#b1e4aa7e5548a3db26a447a818c5936d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#f5ebcfe44d205ecb861e8469fbc1b060">m_iSegmMode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes one of the <a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd">ZipSegmentationMode</a> values.  <a href="#f5ebcfe44d205ecb861e8469fbc1b060"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structCZipSpanCallback.html">CZipSpanCallback</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#ba152fd1833b31fa9605b3968e666eac">m_pChangeDiskFunc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A callback object called when there is a need for a disk change in a spanned archive.  <a href="#ba152fd1833b31fa9605b3968e666eac"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6d8d6fabc568f6e624a2ec3da02e928e"></a><!-- doxytag: member="CZipStorage::CZipArchive" ref="6d8d6fabc568f6e624a2ec3da02e928e" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#6d8d6fabc568f6e624a2ec3da02e928e">CZipArchive</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6d01476466aee6dee41ca64e3f4f263"></a><!-- doxytag: member="CZipStorage::CZipCentralDir" ref="f6d01476466aee6dee41ca64e3f4f263" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCZipStorage.html#f6d01476466aee6dee41ca64e3f4f263">CZipCentralDir</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Represents the storage layer for an archive. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00231">231</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="7a9b670568cc2e729325e366a67891fd"></a><!-- doxytag: member="CZipStorage::ZipSegmentationMode" ref="7a9b670568cc2e729325e366a67891fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd">CZipStorage::ZipSegmentationMode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The type of the segmentation of the archive. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a href="0610051553.html">Segmented Archives: Splitting and Spanning</a> <p>
<a class="el" href="classCZipArchive.html#57b5e58cf7278484892cf6fa9fbaa9b5">CZipArchive::GetSegmMode</a> </dd></dl>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="7a9b670568cc2e729325e366a67891fd451a4d7bc94a04bcce91c00158afee08"></a><!-- doxytag: member="noSegments" ref="7a9b670568cc2e729325e366a67891fd451a4d7bc94a04bcce91c00158afee08" args="" -->noSegments</em>&nbsp;</td><td>
No archive segmentation. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="7a9b670568cc2e729325e366a67891fda2b4b8de7a18d21dd68fa2b2e51d613e"></a><!-- doxytag: member="spannedArchive" ref="7a9b670568cc2e729325e366a67891fda2b4b8de7a18d21dd68fa2b2e51d613e" args="" -->spannedArchive</em>&nbsp;</td><td>
A spanned archive. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="7a9b670568cc2e729325e366a67891fd5696016758e2bfa325be7fd5f3a4d1bb"></a><!-- doxytag: member="splitArchive" ref="7a9b670568cc2e729325e366a67891fd5696016758e2bfa325be7fd5f3a4d1bb" args="" -->splitArchive</em>&nbsp;</td><td>
A split archive. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="7a9b670568cc2e729325e366a67891fd772a9751e99d8c583a743a38a74f58d4"></a><!-- doxytag: member="suggestedAuto" ref="7a9b670568cc2e729325e366a67891fd772a9751e99d8c583a743a38a74f58d4" args="" -->suggestedAuto</em>&nbsp;</td><td>

<p>
The archive segmentation type will be auto-detected. If the archive is on the removable device, assume a spanned archive, otherwise assume a split archive. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="7a9b670568cc2e729325e366a67891fd11f0b447309de468a6575f3606a62f50"></a><!-- doxytag: member="suggestedSplit" ref="7a9b670568cc2e729325e366a67891fd11f0b447309de468a6575f3606a62f50" args="" -->suggestedSplit</em>&nbsp;</td><td>

<p>
If a segmented archive is on a removable device, assume a split archive. Normally you create spanned archives on removable devices. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00245">245</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d8639c5b60df4aa39822e3075e3abe33"></a><!-- doxytag: member="CZipStorage::Open" ref="d8639c5b60df4aa39822e3075e3abe33" args="(CZipAbstractFile &amp;af, int iMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::Open           </td>
          <td>(</td>
          <td class="paramtype">CZipAbstractFile &amp;&nbsp;</td>
          <td class="paramname"> <em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iMode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens a new or existing archive in memory. 
<p>
The meaning for the parameters is the same as in the <a class="el" href="classCZipArchive.html#56f52e22fca716baa1178068224a1086">CZipArchive::Open(CZipAbstractFile&amp; , int)</a> method. 
</div>
</div><p>
<a class="anchor" name="96d94fed095fe728346f7b71f548951a"></a><!-- doxytag: member="CZipStorage::Open" ref="96d94fed095fe728346f7b71f548951a" args="(LPCTSTR szPathName, int iMode, ZIP_U32_U64 uVolumeSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::Open           </td>
          <td>(</td>
          <td class="paramtype">LPCTSTR&nbsp;</td>
          <td class="paramname"> <em>szPathName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ZIP_U32_U64&nbsp;</td>
          <td class="paramname"> <em>uVolumeSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens or creates an archive. 
<p>
The meaning for the parameters is the same as in the <a class="el" href="classCZipArchive.html#451188ca55b5056aa7bd4f33d37ef089">CZipArchive::Open(LPCTSTR, int, ZIP_U32_U64)</a> method. 
</div>
</div><p>
<a class="anchor" name="82700d19bed231ff7fe778ba16a9cc0c"></a><!-- doxytag: member="CZipStorage::FinalizeSegm" ref="82700d19bed231ff7fe778ba16a9cc0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::FinalizeSegm           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes a segmented archive in creation and reopens it as an existing segmented archive (no modifications allowed). 
<p>
The archive may also turn out to be a not segmented archive. 
</div>
</div><p>
<a class="anchor" name="a7ef658d2fbfb65b479febb2b18006c8"></a><!-- doxytag: member="CZipStorage::UpdateSegmMode" ref="a7ef658d2fbfb65b479febb2b18006c8" args="(ZIP_U16_U32 uLastDisk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::UpdateSegmMode           </td>
          <td>(</td>
          <td class="paramtype">ZIP_U16_U32&nbsp;</td>
          <td class="paramname"> <em>uLastDisk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called only by <a class="el" href="classCZipCentralDir.html#8bd6ae684caf7bf0ba4c46237bb249be">CZipCentralDir::Read</a> when opening an existing archive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uLastDisk</em>&nbsp;</td><td>The number of the disk the central directory is on.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ddf8a71fd12d1ebce4850fcf01735421"></a><!-- doxytag: member="CZipStorage::AssureFree" ref="ddf8a71fd12d1ebce4850fcf01735421" args="(ZIP_U32_U64 uNeeded)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 CZipStorage::AssureFree           </td>
          <td>(</td>
          <td class="paramtype">ZIP_U32_U64&nbsp;</td>
          <td class="paramname"> <em>uNeeded</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Ensures than in a segmented archive, there is enough free space on the current volume. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uNeeded</em>&nbsp;</td><td>The size of the required free space in bytes.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of free bytes on the current volume.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6bb68ca299f8eab88a80a839947e4d37"></a><!-- doxytag: member="CZipStorage::Write" ref="6bb68ca299f8eab88a80a839947e4d37" args="(const void *pBuf, DWORD iSize, bool bAtOnce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::Write           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>iSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bAtOnce</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes a chunk of data to the archive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>The buffer with data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iSize</em>&nbsp;</td><td>The number of bytes to write.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bAtOnce</em>&nbsp;</td><td>If <code>true</code>, the whole chunk must fit in the current volume. If there is not enough free space, a disk change is performed.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="dda9491331d1eedd853db254be4ba879"></a><!-- doxytag: member="CZipStorage::GetOccupiedSpace" ref="dda9491331d1eedd853db254be4ba879" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 CZipStorage::GetOccupiedSpace           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the total size currently occupied by the archive. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The length of the current archive file increased by the number of bytes in the write buffer. </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00340">340</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="909fbcb7bdda20adadc9672fbdc84e3c"></a><!-- doxytag: member="CZipStorage::IsClosed" ref="909fbcb7bdda20adadc9672fbdc84e3c" args="(bool bArchive) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CZipStorage::IsClosed           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bArchive</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The same as the <a class="el" href="classCZipArchive.html#60166588e0126c68899860e00676a51f">CZipArchive::IsClosed</a> method. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00348">348</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="cb5e852600c22fb2e0eae12de94b5a9e"></a><!-- doxytag: member="CZipStorage::Read" ref="cb5e852600c22fb2e0eae12de94b5a9e" args="(void *pBuf, DWORD iSize, bool bAtOnce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD CZipStorage::Read           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>iSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bAtOnce</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads a chunk of data from the archive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>The buffer to receive the data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iSize</em>&nbsp;</td><td>The number of bytes to read.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bAtOnce</em>&nbsp;</td><td>If <code>true</code>, the specified number of bytes must be read from the same volume (no disk change is allowed).</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="95081d1003f150d1073668220269dc04"></a><!-- doxytag: member="CZipStorage::GetPosition" ref="95081d1003f150d1073668220269dc04" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 CZipStorage::GetPosition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the position in the file, taking into account the number of bytes in the write buffer and the number of bytes before the archive. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The position in the file.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00381">381</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="1230b2132fff67e636139c204735910f"></a><!-- doxytag: member="CZipStorage::Flush" ref="1230b2132fff67e636139c204735910f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::Flush           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flushes the data from the read buffer to the disk. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d2a36be3850da16375becd58dabb7b04"></a><!-- doxytag: member="CZipStorage::FlushFile" ref="d2a36be3850da16375becd58dabb7b04" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::FlushFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forces any data remaining in the file buffer to be written to the disk. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00402">402</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="68ac20b2c923c9fba0c6546f6ba93bdc"></a><!-- doxytag: member="CZipStorage::NextDisk" ref="68ac20b2c923c9fba0c6546f6ba93bdc" args="(ZIP_U32_U64 uNeeded, LPCTSTR lpszFileName=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::NextDisk           </td>
          <td>(</td>
          <td class="paramtype">ZIP_U32_U64&nbsp;</td>
          <td class="paramname"> <em>uNeeded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCTSTR&nbsp;</td>
          <td class="paramname"> <em>lpszFileName</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes disks during writing to a segmented archive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uNeeded</em>&nbsp;</td><td>The number of bytes needed on the disk.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lpszFileName</em>&nbsp;</td><td>The archive filename.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7103218f1e71e47d80235b96f5d46d91"></a><!-- doxytag: member="CZipStorage::GetCurrentDisk" ref="7103218f1e71e47d80235b96f5d46d91" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U16_U32 CZipStorage::GetCurrentDisk           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a zero-based number of the current disk. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00426">426</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="ea74915b8fa78a8cc8ff14f6894fe131"></a><!-- doxytag: member="CZipStorage::ChangeDisk" ref="ea74915b8fa78a8cc8ff14f6894fe131" args="(ZIP_U16_U32 uNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::ChangeDisk           </td>
          <td>(</td>
          <td class="paramtype">ZIP_U16_U32&nbsp;</td>
          <td class="paramname"> <em>uNumber</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the disk during extract operations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uNumber</em>&nbsp;</td><td>A zero-based requested disk number. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="487495e8e77ade5959e8269aabe9baf9"></a><!-- doxytag: member="CZipStorage::IsSegmented" ref="487495e8e77ade5959e8269aabe9baf9" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CZipStorage::IsSegmented           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Detects the segmentation mode. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li><code>-1</code> : An existing segmented archive is opened.</li><li><code>0</code> : The archive is not segmented.</li><li><code>1</code> : A segmented archive in creation. </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00445">445</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
<p>
Referenced by <a class="el" href="ZipFileHeader_8h-source.html#l00135">CZipFileHeader::GetDataDescriptorSize()</a>.
</div>
</div><p>
<a class="anchor" name="20a7b21eb1cfe871488d5789ffe0842f"></a><!-- doxytag: member="CZipStorage::IsReadOnly" ref="20a7b21eb1cfe871488d5789ffe0842f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CZipStorage::IsReadOnly           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The same as the <a class="el" href="classCZipArchive.html#c50bc9678b14ae075d2c252f0b38bd0d">CZipArchive::IsReadOnly</a> method. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00453">453</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="63cd90755d100a820cb522feed32253a"></a><!-- doxytag: member="CZipStorage::Seek" ref="63cd90755d100a820cb522feed32253a" args="(ULONGLONG lOff, bool fromBeginning=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ULONGLONG CZipStorage::Seek           </td>
          <td>(</td>
          <td class="paramtype">ULONGLONG&nbsp;</td>
          <td class="paramname"> <em>lOff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fromBeginning</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Performs the seeking operation on the <a class="el" href="classCZipStorage.html#540073f4fc25c13a92c22093c025d06c">m_pFile</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lOff</em>&nbsp;</td><td>The new position in the file.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fromBeginning</em>&nbsp;</td><td>The direction of the seek operation. If <code>true</code>, <em>lOff</em> is counted from the beginning of the file; otherwise the <em>lOff</em> is counted from the end of the file. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="11fa02b9689ecc44c73562f84acc9241"></a><!-- doxytag: member="CZipStorage::VolumeLeft" ref="11fa02b9689ecc44c73562f84acc9241" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 CZipStorage::VolumeLeft           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the number of free bytes on the current volume. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of free bytes on the current volume. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e3ab9842a921d4606932480c954b3961"></a><!-- doxytag: member="CZipStorage::Close" ref="e3ab9842a921d4606932480c954b3961" args="(bool bAfterException)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString CZipStorage::Close           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bAfterException</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the storage. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bAfterException</em>&nbsp;</td><td>Set to <code>true</code>, if an exception was thrown before.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The file path of the archive.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ac9fd61bf2a06c9ceea19843e9a66dbe"></a><!-- doxytag: member="CZipStorage::LocateSignature" ref="ac9fd61bf2a06c9ceea19843e9a66dbe" args="(char *szSignature, ZIP_U32_U64 uMaxDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_FILE_USIZE CZipStorage::LocateSignature           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>szSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ZIP_U32_U64&nbsp;</td>
          <td class="paramname"> <em>uMaxDepth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reverse-finds the location of the given signature starting from the current position in file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>szSignature</em>&nbsp;</td><td>The signature to locate.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uMaxDepth</em>&nbsp;</td><td>The maximum number of bytes to search for <em>szSignature</em>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The location of the signature.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="60bb4b6f84a3387d8156e5d6fcb37f12"></a><!-- doxytag: member="CZipStorage::EmptyWriteBuffer" ref="60bb4b6f84a3387d8156e5d6fcb37f12" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::EmptyWriteBuffer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flushes without writing. 
<p>
Can be used only on not segmented archives. 
<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00526">526</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="dbea82a4ba5af694d12d16cd7d115e0c"></a><!-- doxytag: member="CZipStorage::OpenFile" ref="dbea82a4ba5af694d12d16cd7d115e0c" args="(LPCTSTR lpszName, UINT uFlags, bool bThrow=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CZipStorage::OpenFile           </td>
          <td>(</td>
          <td class="paramtype">LPCTSTR&nbsp;</td>
          <td class="paramname"> <em>lpszName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&nbsp;</td>
          <td class="paramname"> <em>uFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bThrow</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens a physical file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lpszName</em>&nbsp;</td><td>The name of the file to open.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uFlags</em>&nbsp;</td><td>The file open flags.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bThrow</em>&nbsp;</td><td>If <code>true</code>, throw an exception in case of failure.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>true</code> if successful; <code>false</code> otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="942df70d489076dae788b781962a386d"></a><!-- doxytag: member="CZipStorage::RenameLastFileInSplitArchive" ref="942df70d489076dae788b781962a386d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString CZipStorage::RenameLastFileInSplitArchive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Renames the last segment file in a split archive when finalizing the whole archive. 
<p>

</div>
</div><p>
<a class="anchor" name="b5fa7d6238a96643b0a52368555bfb74"></a><!-- doxytag: member="CZipStorage::WriteInternalBuffer" ref="b5fa7d6238a96643b0a52368555bfb74" args="(const char *pBuf, DWORD uSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::WriteInternalBuffer           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>uSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes data to the internal buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*pBuf</em>&nbsp;</td><td>The buffer to copy the data from.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uSize</em>&nbsp;</td><td>The number of bytes to write.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cd878083106a1aeb4cb5a2104b9688ca"></a><!-- doxytag: member="CZipStorage::GetFreeVolumeSpace" ref="cd878083106a1aeb4cb5a2104b9688ca" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 CZipStorage::GetFreeVolumeSpace           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the free space size on the current removable disk. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The free space in bytes. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5224c348f97b3e57353f911ec17bafdb"></a><!-- doxytag: member="CZipStorage::CallCallback" ref="5224c348f97b3e57353f911ec17bafdb" args="(ZIP_U32_U64 uNeeded, int iCode, CZipString szTemp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CZipStorage::CallCallback           </td>
          <td>(</td>
          <td class="paramtype">ZIP_U32_U64&nbsp;</td>
          <td class="paramname"> <em>uNeeded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CZipString&nbsp;</td>
          <td class="paramname"> <em>szTemp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notifies the callback object. 
<p>
Throws an exception if the callback method returns <code>false</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uNeeded</em>&nbsp;</td><td>The minimum number of free bytes required on the disk.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iCode</em>&nbsp;</td><td>The code to be passed to the callback method.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>szTemp</em>&nbsp;</td><td>The string to be used as a filename (as an argument in the <a class="el" href="classCZipException.html#66bd46de14ccf5d31304975ba91cc70e">CZipException::Throw</a> method) when an exception must be thrown.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Throws exceptions. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classCZipArchive.html#a3dbddb407a5bf8c2100183534654960">CZipArchive::SetSpanCallback</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="c62be8317ae69f715a29232f00b3d5f5"></a><!-- doxytag: member="CZipStorage::GetSplitVolumeName" ref="c62be8317ae69f715a29232f00b3d5f5" args="(bool bLast, LPCTSTR lpszZipName=NULL) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString CZipStorage::GetSplitVolumeName           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bLast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPCTSTR&nbsp;</td>
          <td class="paramname"> <em>lpszZipName</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs the name of a segment in a split archive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bLast</em>&nbsp;</td><td>Set it to <code>true</code>, if constructing the last volume name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lpszZipName</em>&nbsp;</td><td>The name of the archive.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The segment name. </dd></dl>

</div>
</div><p>
<a class="anchor" name="25a67fb25c890532ea6c62c5e8afd04b"></a><!-- doxytag: member="CZipStorage::ChangeSplitRead" ref="25a67fb25c890532ea6c62c5e8afd04b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString CZipStorage::ChangeSplitRead           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the disk when processing a split archive. 
<p>

</div>
</div><p>
<a class="anchor" name="9d839c6e8d050fc495ddf294531a5b3b"></a><!-- doxytag: member="CZipStorage::ChangeSpannedRead" ref="9d839c6e8d050fc495ddf294531a5b3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString CZipStorage::ChangeSpannedRead           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the disk when processing a spanned archive. 
<p>

</div>
</div><p>
<a class="anchor" name="ef4f358d7c08abd9a4355113bd17e160"></a><!-- doxytag: member="CZipStorage::GetFreeInBuffer" ref="ef4f358d7c08abd9a4355113bd17e160" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD CZipStorage::GetFreeInBuffer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the free space left in the write buffer. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The free space left in the write buffer in bytes. </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00626">626</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="540073f4fc25c13a92c22093c025d06c"></a><!-- doxytag: member="CZipStorage::m_pFile" ref="540073f4fc25c13a92c22093c025d06c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipAbstractFile* <a class="el" href="classCZipStorage.html#540073f4fc25c13a92c22093c025d06c">CZipStorage::m_pFile</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Represents the physical storage of the current archive segment. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00496">496</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="cffb8d83566f87a66c641e911d5169e0"></a><!-- doxytag: member="CZipStorage::m_gszExtHeaderSignat" ref="cffb8d83566f87a66c641e911d5169e0" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classCZipStorage.html#cffb8d83566f87a66c641e911d5169e0">CZipStorage::m_gszExtHeaderSignat</a>[]<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The signature of the extended header. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00501">501</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="bc7c543f5b88ab52aaac32954ae1db7c"></a><!-- doxytag: member="CZipStorage::m_uSplitData" ref="bc7c543f5b88ab52aaac32954ae1db7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 <a class="el" href="classCZipStorage.html#bc7c543f5b88ab52aaac32954ae1db7c">CZipStorage::m_uSplitData</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The value it holds, depends on the current mode:<ul>
<li>An opened existing split archive - stores the number of the last disk ( the one with "zip" extension). </li></ul>

<p>
<ul>
<li>A split archive in creation - the size of the volume.</li></ul>
<p>
This method is used only when processing split archives. 
<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00635">635</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="be645bd32d4e8cdc1934cca9b0c3b6e9"></a><!-- doxytag: member="CZipStorage::m_szSplitExtension" ref="be645bd32d4e8cdc1934cca9b0c3b6e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CZipString <a class="el" href="classCZipStorage.html#be645bd32d4e8cdc1934cca9b0c3b6e9">CZipStorage::m_szSplitExtension</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The extension of the last segment. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00640">640</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="014a1857498a49e1331e33fbd6b865a4"></a><!-- doxytag: member="CZipStorage::m_uBytesInWriteBuffer" ref="014a1857498a49e1331e33fbd6b865a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD <a class="el" href="classCZipStorage.html#014a1857498a49e1331e33fbd6b865a4">CZipStorage::m_uBytesInWriteBuffer</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The number of bytes available in the write buffer. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00645">645</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="e5162bda62f370e27d118a34f4689761"></a><!-- doxytag: member="CZipStorage::m_uCurrentVolSize" ref="e5162bda62f370e27d118a34f4689761" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 <a class="el" href="classCZipStorage.html#e5162bda62f370e27d118a34f4689761">CZipStorage::m_uCurrentVolSize</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The value it holds depends on the segmentation mode:<ul>
<li>A split archive : the total size of the current volume. </li></ul>

<p>
<ul>
<li>A spanned archive: the free space on the current volume. </li></ul>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00652">652</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="97e3351700ffd1bc1ee27ed26bd2ea07"></a><!-- doxytag: member="CZipStorage::m_pWriteBuffer" ref="97e3351700ffd1bc1ee27ed26bd2ea07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCZipAutoBuffer.html">CZipAutoBuffer</a> <a class="el" href="classCZipStorage.html#97e3351700ffd1bc1ee27ed26bd2ea07">CZipStorage::m_pWriteBuffer</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The write buffer caching data. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00657">657</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="ec47f204d1213744a424a143eee5d053"></a><!-- doxytag: member="CZipStorage::m_uBytesWritten" ref="ec47f204d1213744a424a143eee5d053" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 <a class="el" href="classCZipStorage.html#ec47f204d1213744a424a143eee5d053">CZipStorage::m_uBytesWritten</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores the number of bytes that have been written physically to the current segment. 
<p>
Used only when processing a segmented archive in creation. 
<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00663">663</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="f173dc4ca739884125508fb92431d989"></a><!-- doxytag: member="CZipStorage::m_bNewSegm" ref="f173dc4ca739884125508fb92431d989" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCZipStorage.html#f173dc4ca739884125508fb92431d989">CZipStorage::m_bNewSegm</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<code>true</code>, if the current archive is a new segmented archive; <code>false</code> otherwise. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00668">668</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="bb11759f88b4dd2e2f86463f01b42445"></a><!-- doxytag: member="CZipStorage::m_uCurrentDisk" ref="bb11759f88b4dd2e2f86463f01b42445" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U16_U32 <a class="el" href="classCZipStorage.html#bb11759f88b4dd2e2f86463f01b42445">CZipStorage::m_uCurrentDisk</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The current disk in a segmented archive. 
<p>
The value is zero-based. 
<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00674">674</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="73d1975f142f5bc2b29ca9e45e359cac"></a><!-- doxytag: member="CZipStorage::m_bInMemory" ref="73d1975f142f5bc2b29ca9e45e359cac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCZipStorage.html#73d1975f142f5bc2b29ca9e45e359cac">CZipStorage::m_bInMemory</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<code>true</code> when the archive is created in memory; <em>false</em> otherwise. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00679">679</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="6678b0456d463ec297205b32f24ee828"></a><!-- doxytag: member="CZipStorage::m_bReadOnly" ref="6678b0456d463ec297205b32f24ee828" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCZipStorage.html#6678b0456d463ec297205b32f24ee828">CZipStorage::m_bReadOnly</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<code>true</code> if OpenMode::zipOpenReadOnly was specified when opening the archive. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00684">684</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="14932109b9dde57b530e86646a974582"></a><!-- doxytag: member="CZipStorage::m_uBytesBeforeZip" ref="14932109b9dde57b530e86646a974582" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZIP_U32_U64 <a class="el" href="classCZipStorage.html#14932109b9dde57b530e86646a974582">CZipStorage::m_uBytesBeforeZip</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The number of bytes before the actual zip archive in a file. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classCZipArchive.html#95cdda5fd6e8fb1f9b02f305746413ad">CZipArchive::GetBytesBeforeZip</a> </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00691">691</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="8a8fb88cbd9a6d1b842e35036a64e4c7"></a><!-- doxytag: member="CZipStorage::m_iWriteBufferSize" ref="8a8fb88cbd9a6d1b842e35036a64e4c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCZipStorage.html#8a8fb88cbd9a6d1b842e35036a64e4c7">CZipStorage::m_iWriteBufferSize</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The size of the write buffer. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classCZipArchive.html#be06c912f3dbacfe3d327d7c7a2d0e88">CZipArchive::SetAdvanced</a> </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00700">700</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="b1e4aa7e5548a3db26a447a818c5936d"></a><!-- doxytag: member="CZipStorage::m_iLocateBufferSize" ref="b1e4aa7e5548a3db26a447a818c5936d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCZipStorage.html#b1e4aa7e5548a3db26a447a818c5936d">CZipStorage::m_iLocateBufferSize</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The size of the buffer used in searching for the central directory. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classCZipArchive.html#be06c912f3dbacfe3d327d7c7a2d0e88">CZipArchive::SetAdvanced</a> </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00708">708</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="f5ebcfe44d205ecb861e8469fbc1b060"></a><!-- doxytag: member="CZipStorage::m_iSegmMode" ref="f5ebcfe44d205ecb861e8469fbc1b060" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCZipStorage.html#f5ebcfe44d205ecb861e8469fbc1b060">CZipStorage::m_iSegmMode</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Takes one of the <a class="el" href="classCZipStorage.html#7a9b670568cc2e729325e366a67891fd">ZipSegmentationMode</a> values. 
<p>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00713">713</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<a class="anchor" name="ba152fd1833b31fa9605b3968e666eac"></a><!-- doxytag: member="CZipStorage::m_pChangeDiskFunc" ref="ba152fd1833b31fa9605b3968e666eac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCZipSpanCallback.html">CZipSpanCallback</a>* <a class="el" href="classCZipStorage.html#ba152fd1833b31fa9605b3968e666eac">CZipStorage::m_pChangeDiskFunc</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A callback object called when there is a need for a disk change in a spanned archive. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classCZipArchive.html#a3dbddb407a5bf8c2100183534654960">CZipArchive::SetSpanCallback</a> </dd></dl>

<p>
Definition at line <a class="el" href="ZipStorage_8h-source.html#l00721">721</a> of file <a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ZipStorage_8h-source.html">ZipStorage.h</a></ul>
<hr><address><small>
The ZipArchive Library Copyright &copy;&nbsp;2000 - 2006 Tadeusz Dracz. Generated at Mon Nov 27 21:42:27 2006.
</small></address>
</body>
</html>
